# ğŸŒ CertFinder (ìê²©ì¦íŒŒì¸ë”)
### ëŒ€í•œë¯¼êµ­ êµ­ê°€ìê²©ì¦ í†µí•© ë¶„ì„ ë° AI ê²½ë ¥ ê²½ë¡œ ì¶”ì²œ ì‹œìŠ¤í…œ

[![Deploy: Vercel](https://img.shields.io/badge/Deploy-Vercel-black?style=flat-square&logo=vercel)](https://cert-web-sand.vercel.app/)
[![Backend: FastAPI](https://img.shields.io/badge/Backend-FastAPI-009688?style=flat-square&logo=fastapi)](https://fastapi.tiangolo.com/)
[![DB: PostgreSQL](https://img.shields.io/badge/DB-Supabase-3ECF8E?style=flat-square&logo=supabase)](https://supabase.com/)
[![Cache: Redis](https://img.shields.io/badge/Cache-Redis-DC382D?style=flat-square&logo=redis)](https://redis.io/)
[![Backend Deploy: Render](https://img.shields.io/badge/API-Render-46E3B7?style=flat-square&logo=render)](https://certweb-xzpx.onrender.com/health)

---

## ğŸš€ í”„ë¡œì íŠ¸ ê°œìš”
**CertFinder**ëŠ” ëŒ€í•œë¯¼êµ­ **1,200ì—¬ ì¢…**ì˜ êµ­ê°€ ê¸°ìˆ  ë° ì „ë¬¸ ìê²©ì¦ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ìµœì ì˜ ì»¤ë¦¬ì–´ ë¡œë“œë§µì„ ì œì‹œí•˜ëŠ” ì§€ëŠ¥í˜• í”Œë«í¼ì…ë‹ˆë‹¤. ë‹¨ìˆœ ì¡°íšŒë¥¼ ë„˜ì–´ í•©ê²©ë¥  ì¶”ì´, ì·¨ì—… ì „ë§, ì „ê³µ ê¸°ë°˜ AI ì¶”ì²œê¹Œì§€ ë°ì´í„° ê¸°ë°˜ì˜ ìê¸°ê³„ë°œì„ ì™„ë²½ ì§€ì›í•©ë‹ˆë‹¤.

- **í”„ë¡ íŠ¸ì—”ë“œ**: https://cert-web-sand.vercel.app
- **ë°±ì—”ë“œ API**: https://certweb-xzpx.onrender.com
- **API ìƒíƒœ í™•ì¸**: https://certweb-xzpx.onrender.com/health

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥ (Features)

### 1. ğŸ” ì´ˆê³ ì† ìê²©ì¦ íƒìƒ‰ ë° í•„í„°ë§
- **ì§€ëŠ¥í˜• ê²€ìƒ‰**: 1,200+ êµ­ê°€ê¸°ìˆ Â·ì „ë¬¸Â·ë¯¼ê°„ ìê²©ì¦ì„ í‚¤ì›Œë“œ/ë¶„ì•¼/ë“±ê¸‰ìœ¼ë¡œ ì¦‰ê° í•„í„°ë§
- **ì •êµí•œ ë°ì´í„° ë¶„ì„**: ì—°ë„ë³„/íšŒì°¨ë³„ í•©ê²©ë¥ , ë‚œì´ë„ ì ìˆ˜, ì‘ì‹œì ì¶”ì´ ì‹œê°í™” (Recharts)
- **ë¶ë§ˆí¬ ê¸°ëŠ¥**: ê´€ì‹¬ ìê²©ì¦ ì¦ê²¨ì°¾ê¸° ì €ì¥ ë° ë§ˆì´í˜ì´ì§€ ì—°ë™

### 2. ğŸ¤– AI ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ ì—”ì§„
- **ì „ê³µ ë§ì¶¤ ì¶”ì²œ**: ì „ê³µëª… ê¸°ë°˜ í¼ì§€ ë§¤ì¹­(fuzzy matching)ìœ¼ë¡œ ìµœì ì˜ ìê²©ì¦ ìë™ ì¶”ì²œ
- **AI ì»¤ë¦¬ì–´ ë¶„ì„**: OpenAI GPT-4o ê¸°ë°˜ ì‚¬ìš©ì ë§ì¶¤í˜• ì»¤ë¦¬ì–´ ë¦¬í¬íŠ¸ ìƒì„±
- **ìŠ¤ë§ˆíŠ¸ í´ë°±(Fallback)**: "ê²Œì„ê³µí•™ê³¼" ë“± ë¹„í‘œì¤€ ì „ê³µëª…ë„ ìœ ì‚¬ ë§¤ì¹­ìœ¼ë¡œ ì •í™•íˆ ì¶”ì²œ

### 3. ğŸ‘¤ í†µí•© ê³„ì • ì‹œìŠ¤í…œ
- **ì´ë©”ì¼ OTP íšŒì›ê°€ì…**: Supabase OTP ì¸ì¦ ê¸°ë°˜ ì•ˆì „í•œ íšŒì›ê°€ì… í”Œë¡œìš°
- **Google OAuth ë¡œê·¸ì¸**: êµ¬ê¸€ ê³„ì • ë¡œê·¸ì¸ ì§€ì› (ìë™ userid ë°œê¸‰, ìƒë…„ì›”ì¼ ì„ íƒ ì‚¬í•­)
- **ë§ˆì´í˜ì´ì§€**: ë‹‰ë„¤ì„Â·ì „ê³µÂ·í•™ë…„ ìˆ˜ì •, ì¦ê²¨ì°¾ê¸°, ìµœê·¼ ì¡°íšŒ, ë§ì¶¤ ì¶”ì²œ ëŒ€ì‹œë³´ë“œ
- **ì·¨ë“ ìê²©ì¦ (Acquired Certs)**: DB ìê²©ì¦ ëª©ë¡ì—ì„œ ê²€ìƒ‰í•´ ë‚´ê°€ ì·¨ë“í•œ ìê²©ì¦ì„ ë“±ë¡Â·ê´€ë¦¬
- **XPÂ·ë ˆë²¨Â·í‹°ì–´ ì‹œìŠ¤í…œ**: ì·¨ë“ ìê²©ì¦ ë‚œì´ë„ ê¸°ë°˜ ê²½í—˜ì¹˜(XP) ëˆ„ì  â†’ 9ë‹¨ê³„ ë ˆë²¨, Bronze/Silver/Gold/Platinum/Diamond í‹°ì–´ + ë ˆë²¨ ê²Œì´ì§€ë°” ì‹œê°í™”
- **ê³„ì • ì‚­ì œ ì—°ì‡„ ì²˜ë¦¬**: `ON DELETE CASCADE`ë¡œ íƒˆí‡´ ì‹œ ëª¨ë“  í”„ë¡œí•„ ë°ì´í„° ìë™ ì‚­ì œ

### 4. ğŸ“¬ ë¬¸ì˜í•˜ê¸° (Contact)
- Naver SMTPë¥¼ í™œìš©í•œ ì´ë©”ì¼ ë¬¸ì˜ ì ‘ìˆ˜ (ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ë¡œ API ì‘ë‹µ ì§€ì—° ì—†ìŒ)

### 5. âš¡ Ultra-low Latency ì•„í‚¤í…ì²˜
- **Redis Pipeline & Pub/Sub**: ì„œë²„ ì‹œì‘ ì‹œ í•µì‹¬ ë°ì´í„° ë©”ëª¨ë¦¬ ì„ ë¡œë”©, ìºì‹œ íˆíŠ¸ìœ¨ ìµœì í™”
- **orjson Serialization**: í‘œì¤€ JSON ëŒ€ë¹„ ê³ ì„±ëŠ¥ ì§ë ¬í™”
- **Cache-First ì „ëµ**: ëª¨ë“  ì¡°íšŒì— ê³„ì¸µí˜• ìºì‹± ì ìš©
- **Rate Limiting**: ì—”ë“œí¬ì¸íŠ¸ë³„ IP ê¸°ë°˜ ì†ë„ ì œí•œìœ¼ë¡œ DDoS ë°©ì–´

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| **Frontend** | React 18 + TypeScript, Vite, Tailwind CSS, shadcn/ui, Recharts |
| **Backend** | FastAPI (Python 3.11), SQLAlchemy 2.0, Pydantic v2, orjson |
| **Database** | PostgreSQL (Supabase), Redis Cloud |
| **Auth** | Supabase Auth (JWT), Google OAuth 2.0 |
| **Deployment** | Vercel (Frontend), Render (Backend) |
| **AI** | OpenAI GPT-4o |
| **Email** | Naver SMTP (smtplib) |

---

## ğŸ—‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
CertWeb/
â”œâ”€â”€ cert-app/
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # FastAPI ë¼ìš°í„° (certs, auth, recommendations, contact...)
â”‚   â”‚   â”‚   â”œâ”€â”€ crud/        # DB CRUD ë ˆì´ì–´
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py    # SQLAlchemy ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas/     # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â””â”€â”€ services/    # Redis Sync, AI ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ main.py          # FastAPI ì•± ì§„ì…ì 
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ frontend/
â”‚       â””â”€â”€ app/
â”‚           â”œâ”€â”€ src/
â”‚           â”‚   â”œâ”€â”€ pages/   # MyPage, CertDetail, Home, ...
â”‚           â”‚   â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ hooks/   # useAuth, useRecommendations
â”‚           â”‚   â””â”€â”€ lib/     # api.ts, supabase.ts
â”‚           â””â”€â”€ index.html
â”œâ”€â”€ certs_no_pass_rate.csv   # í•©ê²©ë¥  ì—†ëŠ” ìê²©ì¦ ë³´ì¡° ë°ì´í„°
â””â”€â”€ certs_with_pass_rate.csv # í•©ê²©ë¥  í¬í•¨ ìê²©ì¦ ì›ë³¸ ë°ì´í„°
```

---

## ğŸ“– ì‹œì‘í•˜ê¸° (Getting Started)

### Prerequisites
- Python 3.11+
- Node.js 18+
- ê°€ìƒí™˜ê²½ (ê¶Œì¥: `python -m venv` ë˜ëŠ” `uv`)

### Backend Setup
```bash
cd cert-app/backend

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
venv\Scripts\activate      # Windows
# source venv/bin/activate  # macOS/Linux

pip install -r requirements.txt

# .env íŒŒì¼ ì„¤ì • í›„
uvicorn main:app --reload
```

**Cursor / VS Codeì—ì„œ FastAPI(venv) ì—°ê²°**
- **Ctrl+Shift+P** â†’ **"Python: Select Interpreter"** ì…ë ¥ í›„ ì„ íƒ
- ëª©ë¡ì—ì„œ `C:\Users\rlaeh\envs\fastapi\.venv\Scripts\python.exe` ì„ íƒ (ë˜ëŠ” **Enter interpreter path**ë¡œ í•´ë‹¹ ê²½ë¡œ ì§€ì •)
- ì—°ê²° í›„ í•´ë‹¹ í™˜ê²½ì—ì„œ ë””ë²„ê¹…Â·í…ŒìŠ¤íŠ¸Â·ìë™ì™„ì„±ì´ ë™ì‘í•©ë‹ˆë‹¤.

**ì„œë²„ ì‹¤í–‰**
```powershell
cd cert-app/backend
uv run python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```
- ê¸°ë³¸ ì£¼ì†Œ: **http://127.0.0.1:8000** Â· API: **http://127.0.0.1:8000/api/v1** Â· í—¬ìŠ¤: **http://127.0.0.1:8000/health**

### Frontend Setup
```bash
cd cert-app/frontend/app
npm install
npm run dev
```

### í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env`)
```env
DATABASE_URL=postgresql://...
SUPABASE_URL=https://...
SUPABASE_ANON_KEY=...
SUPABASE_SERVICE_ROLE_KEY=...
REDIS_URL=redis://...
EMAIL_USER=your@naver.com
EMAIL_PASSWORD=...
SMTP_HOST=smtp.naver.com
SMTP_PORT=465
OPENAI_API_KEY=sk-...
```

---

## ğŸ”§ ìµœê·¼ ì£¼ìš” ì—…ë°ì´íŠ¸ (v1.2)

### ì·¨ë“ ìê²©ì¦ & XPÂ·ë ˆë²¨Â·í‹°ì–´ ì‹œìŠ¤í…œ
- âœ… **ì·¨ë“ ìê²©ì¦ (Acquired Certs)** â€” `user_acquired_certs` í…Œì´ë¸”, `GET/POST/DELETE /me/acquired-certs` API, ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì—ì„œ ê²€ìƒ‰Â·ì¶”ê°€Â·ì‚­ì œ
- âœ… **ë‚œì´ë„ ê¸°ë°˜ XP ê³„ì‚°** â€” `app/utils/xp.py`: 9.0~9.9(+12), 8.0~8.9(+8), 7.0~7.9(+5), 6.0~6.9(+2), 5.0~5.9(0), 4.0~4.9(-0.5), 3.0~3.9(-1.0), 1.0~2.9(-0.5) â†’ ìµœì†Œ 0.5 XP ë³´ì¥
- âœ… **9ë‹¨ê³„ ë ˆë²¨Â·í‹°ì–´** â€” Lv1~2 Bronze, Lv3~4 Silver, Lv5~6 Gold, Lv7~8 Platinum, Lv9 Diamond (solved.ac ìŠ¤íƒ€ì¼ ë³´ì„ ìƒ‰ìƒ)
- âœ… **ë ˆë²¨ ì„ê³„ê°’** â€” í‰ê·  ë‚œì´ë„(5.0) ìê²©ì¦ 1ê°œ(5 XP)ë¡œ Lv2 Bronze ë„ë‹¬ ê°€ëŠ¥ (0â†’5â†’15â†’35â†’70â†’120â†’190â†’290â†’430 XP)
- âœ… **ë§ˆì´í˜ì´ì§€ UI** â€” ACQUIRED CERTS ì¹´ë“œì— í‹°ì–´Â·ë ˆë²¨Â·XP ê²Œì´ì§€ë°” í‘œì‹œ; ìš°ì¸¡ "ë‚´ê°€ ì·¨ë“í•œ ìê²©ì¦" ì„¹ì…˜ì— ëª©ë¡ + XP ë±ƒì§€; ë°±ì—”ë“œ summary ë¯¸ì œê³µ ì‹œ í”„ë¡ íŠ¸ì—”ë“œ ë¡œì»¬ XP/í‹°ì–´ ê³„ì‚° í´ë°±

### ì´ì „ (v1.1)
- âœ… **Contact ì´ë©”ì¼ ë¼ìš°í„°** ë“±ë¡ ë° Naver SMTP ì—°ë™ í™•ì¸
- âœ… **ON DELETE CASCADE** ì ìš© â€” ê³„ì • ì‚­ì œ ì‹œ profiles ìë™ ì—°ì‡„ ì‚­ì œ
- âœ… **Google Auth** â€” ì†Œì…œ ë¡œê·¸ì¸ ì‹œ ìë™ userid ìƒì„±, ìƒë…„ì›”ì¼ ì„ íƒ ì²˜ë¦¬  
- âœ… **ì¶”ì²œ Fallback** â€” "ê²Œì„ê³µí•™ê³¼" ë“± ë¹„í‘œì¤€ ì „ê³µëª… í¼ì§€ ë§¤ì¹­ìœ¼ë¡œ ì¶”ì²œ ì˜¤ë¥˜ í•´ê²°
- âœ… **MyPage loadData ê²½ìŸì¡°ê±´ ìˆ˜ì •** â€” profile ë¹„ë™ê¸° ë¡œë“œ í›„ ì˜¬ë°”ë¥¸ ì „ê³µìœ¼ë¡œ ì¶”ì²œ ì¡°íšŒ
- âœ… **ë‹‰ë„¤ì„ ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜** â€” ì €ì¥ í›„ `supabase.auth.refreshSession()` í˜¸ì¶œë¡œ ìƒë‹¨ ë©”ë‰´ ë™ê¸°í™”
- âœ… **Saved Certs ì¹´ë“œ ë³µì›** â€” ë§ˆì´í˜ì´ì§€ ìƒë‹¨ ìš”ì•½ì— ë¶ë§ˆí¬ ìˆ˜ í‘œì‹œ ì¬ì¶”ê°€

---

## ğŸ”’ Supabase ë³´ì•ˆ ê²½ê³  ëŒ€ì‘

ëŒ€ì‹œë³´ë“œ **Project Settings â†’ Reports â†’ Issues** ì—ì„œ ë‹¤ìŒì²˜ëŸ¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| ê²½ê³  | ì¡°ì¹˜ |
|------|------|
| **Function Search Path Mutable** | í•¨ìˆ˜ ì •ì˜ ì‹œ `SET search_path = public` ì¶”ê°€. `update_modified_column` ì€ `vector_migration.sql` ì°¸ê³ . |
| **Extension in Public** | (ì„ íƒ) pgvectorë¥¼ `extensions` ìŠ¤í‚¤ë§ˆë¡œ ì´ë™ (Supabase/PostgreSQL ë¬¸ì„œ ì°¸ê³ ). |
| **Leaked Password Protection Disabled** | **Authentication â†’ Providers â†’ Email** ì—ì„œ **Enable leaked password protection** í™œì„±í™” (ìœ ì¶œ ë¹„ë°€ë²ˆí˜¸ ëª©ë¡ ëŒ€ì¡°). |
| **RLS Disabled in Public** | **SQL Editor**ì—ì„œ public í…Œì´ë¸”ì— RLS í™œì„±í™” ë° ì •ì±… ì¶”ê°€ (ì°¸ì¡° í…Œì´ë¸” ì½ê¸° ì „ìš©, profiles/ì¦ê²¨ì°¾ê¸°/ì·¨ë“ìê²© ë³¸ì¸ë§Œ CRUD). |

### RAG ê²€ìƒ‰ í’ˆì§ˆ (certificates_vectors ì±„ìš°ê¸°)
ìê²©ì¦ DB ê¸°ì¤€ìœ¼ë¡œ RAG ë²¡í„°ë¥¼ ì±„ìš°ë©´ `/certs/search/rag` ê²€ìƒ‰ í’ˆì§ˆì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.  
`cert-app/backend`ì—ì„œ:
```bash
uv run python scripts/populate_certificates_vectors.py
```
- ê¸°ì¡´ ë™ì¼ `qual_id` í–‰ì€ ê°±ì‹ , ìƒˆ ìê²©ë§Œ ì¶”ê°€ë©ë‹ˆë‹¤.  
- ì²˜ìŒë¶€í„° ë¹„ìš°ê³  ì±„ìš°ë ¤ë©´: `--truncate`  
- OpenAI API í˜¸ì¶œì´ í•„ìš”í•˜ë¯€ë¡œ `OPENAI_API_KEY` ì„¤ì • í•„ìš”.

---

## ğŸ“„ License
This project is for personal portfolio purposes. All data is provided for informational use only.

---

**CertFinder** - ë°ì´í„°ë¡œ ì—¬ëŠ” ë‹¹ì‹ ì˜ ë¯¸ë˜.
